{"version":3,"sources":["../src/types.ts","../src/parser.ts","../src/wallet-agent.ts","../src/evm-wallet.ts","../src/solana-wallet.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const WalletActionSchema = z.enum([\n  \"transfer\",\n  \"swap\",\n  \"balance\",\n  \"deploy_token\",\n  \"mint_nft\",\n  \"stake\",\n  \"unstake\",\n]);\nexport type WalletAction = z.infer<typeof WalletActionSchema>;\n\nexport const TransferParamsSchema = z.object({\n  action: z.literal(\"transfer\"),\n  to: z.string(),\n  amount: z.string(),\n  token: z.string().optional(),\n});\nexport type TransferParams = z.infer<typeof TransferParamsSchema>;\n\nexport const SwapParamsSchema = z.object({\n  action: z.literal(\"swap\"),\n  inputToken: z.string(),\n  outputToken: z.string(),\n  amount: z.string(),\n  slippage: z.number().default(0.5),\n});\nexport type SwapParams = z.infer<typeof SwapParamsSchema>;\n\nexport const BalanceParamsSchema = z.object({\n  action: z.literal(\"balance\"),\n  address: z.string().optional(),\n  token: z.string().optional(),\n});\nexport type BalanceParams = z.infer<typeof BalanceParamsSchema>;\n\nexport const DeployTokenParamsSchema = z.object({\n  action: z.literal(\"deploy_token\"),\n  name: z.string(),\n  symbol: z.string(),\n  decimals: z.number().default(18),\n  initialSupply: z.string().optional(),\n});\nexport type DeployTokenParams = z.infer<typeof DeployTokenParamsSchema>;\n\nexport const WalletCommandSchema = z.discriminatedUnion(\"action\", [\n  TransferParamsSchema,\n  SwapParamsSchema,\n  BalanceParamsSchema,\n  DeployTokenParamsSchema,\n]);\nexport type WalletCommand = z.infer<typeof WalletCommandSchema>;\n\nexport interface WalletAgentConfig {\n  chain: \"evm\" | \"solana\";\n  network: string;\n  privateKey?: string;\n  cdpApiKeyName?: string;\n  cdpApiKeyPrivate?: string;\n}\n","import type { WalletCommand, WalletAction } from \"./types.js\";\n\nconst ACTION_PATTERNS: Record<WalletAction, RegExp[]> = {\n  transfer: [\n    /send\\s+(\\d+\\.?\\d*)\\s*(\\w+)?\\s*to\\s+([a-zA-Z0-9.]+)/i,\n    /transfer\\s+(\\d+\\.?\\d*)\\s*(\\w+)?\\s*to\\s+([a-zA-Z0-9.]+)/i,\n  ],\n  swap: [\n    /swap\\s+(\\d+\\.?\\d*)\\s*(\\w+)\\s*(?:for|to)\\s*(\\w+)/i,\n    /exchange\\s+(\\d+\\.?\\d*)\\s*(\\w+)\\s*(?:for|to)\\s*(\\w+)/i,\n    /convert\\s+(\\d+\\.?\\d*)\\s*(\\w+)\\s*(?:to|into)\\s*(\\w+)/i,\n  ],\n  balance: [\n    /(?:check|get|show|what(?:'?s)?)\\s*(?:my\\s+)?balance/i,\n    /(?:how much|what)\\s+(?:\\w+\\s+)?(?:do i have|is in)/i,\n  ],\n  deploy_token: [\n    /(?:create|deploy|launch)\\s+(?:a\\s+)?(?:new\\s+)?token\\s+(?:called\\s+)?(\\w+)\\s+(?:with\\s+symbol\\s+)?(\\w+)?/i,\n  ],\n  mint_nft: [\n    /mint\\s+(?:an?\\s+)?nft/i,\n    /create\\s+(?:an?\\s+)?nft/i,\n  ],\n  stake: [\n    /stake\\s+(\\d+\\.?\\d*)\\s*(\\w+)?/i,\n  ],\n  unstake: [\n    /unstake\\s+(\\d+\\.?\\d*)\\s*(\\w+)?/i,\n  ],\n};\n\nexport function parseNaturalLanguage(input: string): WalletCommand | null {\n  const normalized = input.trim().toLowerCase();\n\n  for (const [action, patterns] of Object.entries(ACTION_PATTERNS)) {\n    for (const pattern of patterns) {\n      const match = normalized.match(pattern);\n      if (match) {\n        return buildCommand(action as WalletAction, match);\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction buildCommand(\n  action: WalletAction,\n  match: RegExpMatchArray\n): WalletCommand | null {\n  switch (action) {\n    case \"transfer\":\n      return {\n        action: \"transfer\",\n        amount: match[1],\n        token: match[2] || undefined,\n        to: match[3],\n      };\n\n    case \"swap\":\n      return {\n        action: \"swap\",\n        amount: match[1],\n        inputToken: match[2].toUpperCase(),\n        outputToken: match[3].toUpperCase(),\n        slippage: 0.5,\n      };\n\n    case \"balance\":\n      return {\n        action: \"balance\",\n      };\n\n    case \"deploy_token\":\n      return {\n        action: \"deploy_token\",\n        name: match[1] || \"MyToken\",\n        symbol: match[2] || match[1]?.slice(0, 4).toUpperCase() || \"TKN\",\n        decimals: 18,\n      };\n\n    default:\n      return null;\n  }\n}\n\nexport function formatAmount(amount: string, decimals: number): bigint {\n  const [whole, fraction = \"\"] = amount.split(\".\");\n  const paddedFraction = fraction.padEnd(decimals, \"0\").slice(0, decimals);\n  return BigInt(whole + paddedFraction);\n}\n\nexport function parseAmount(raw: bigint, decimals: number): string {\n  const str = raw.toString().padStart(decimals + 1, \"0\");\n  const whole = str.slice(0, -decimals) || \"0\";\n  const fraction = str.slice(-decimals).replace(/0+$/, \"\");\n  return fraction ? `${whole}.${fraction}` : whole;\n}\n","import {\n  BaseAgent,\n  type AgentConfig,\n  type AgentContext,\n  type AgentResult,\n} from \"@gicm/agent-core\";\nimport { EvmWalletProvider } from \"./evm-wallet.js\";\nimport { SolanaWalletProvider } from \"./solana-wallet.js\";\nimport { parseNaturalLanguage } from \"./parser.js\";\nimport type { WalletAgentConfig, WalletCommand } from \"./types.js\";\n\nexport class WalletAgent extends BaseAgent {\n  private walletConfig: WalletAgentConfig;\n  private evmProvider: EvmWalletProvider | null = null;\n  private solanaProvider: SolanaWalletProvider | null = null;\n\n  constructor(config: AgentConfig, walletConfig: WalletAgentConfig) {\n    super(\"wallet-agent\", config);\n    this.walletConfig = walletConfig;\n\n    if (walletConfig.chain === \"evm\") {\n      this.evmProvider = new EvmWalletProvider(walletConfig);\n    } else {\n      this.solanaProvider = new SolanaWalletProvider(walletConfig);\n    }\n  }\n\n  getSystemPrompt(): string {\n    return `You are a Web3 Wallet Agent that helps users execute blockchain transactions safely.\n\nCAPABILITIES:\n- Check wallet balances (native tokens and ERC20/SPL tokens)\n- Transfer tokens to addresses\n- Swap tokens via DEX (Uniswap, Jupiter)\n- Deploy new tokens\n- Mint NFTs\n\nSUPPORTED CHAINS:\n- EVM: Ethereum, Base, Arbitrum, Optimism, Polygon\n- Solana: mainnet-beta, devnet\n\nSAFETY RULES:\n1. Always confirm transaction details before execution\n2. Warn about high slippage (>2%)\n3. Verify recipient addresses\n4. Show gas estimates before transactions\n5. Never reveal private keys\n\nRESPONSE FORMAT:\nRespond with structured JSON containing:\n- action: The action to perform\n- params: Action-specific parameters\n- confirmation: Human-readable summary for user confirmation`;\n  }\n\n  async analyze(context: AgentContext): Promise<AgentResult> {\n    const query = context.userQuery;\n    if (!query) {\n      return this.createResult(false, null, \"No query provided\");\n    }\n\n    const command = parseNaturalLanguage(query);\n    if (!command) {\n      return this.createResult(\n        false,\n        null,\n        `Could not parse command. Supported actions: transfer, swap, balance, deploy_token`,\n        undefined,\n        `Input: \"${query}\" did not match any known patterns`\n      );\n    }\n\n    return this.executeWalletCommand(command, context);\n  }\n\n  async executeWalletCommand(\n    command: WalletCommand,\n    context: AgentContext\n  ): Promise<AgentResult> {\n    const provider =\n      this.walletConfig.chain === \"evm\"\n        ? this.evmProvider\n        : this.solanaProvider;\n\n    if (!provider) {\n      return this.createResult(\n        false,\n        null,\n        `No provider configured for chain: ${this.walletConfig.chain}`\n      );\n    }\n\n    return provider.executeCommand(command, context);\n  }\n\n  async getBalance(address?: string): Promise<AgentResult> {\n    return this.executeWalletCommand(\n      { action: \"balance\", address },\n      { chain: this.walletConfig.chain, network: this.walletConfig.network }\n    );\n  }\n\n  async transfer(\n    to: string,\n    amount: string,\n    token?: string\n  ): Promise<AgentResult> {\n    return this.executeWalletCommand(\n      { action: \"transfer\", to, amount, token },\n      { chain: this.walletConfig.chain, network: this.walletConfig.network }\n    );\n  }\n\n  async swap(\n    inputToken: string,\n    outputToken: string,\n    amount: string,\n    slippage = 0.5\n  ): Promise<AgentResult> {\n    return this.executeWalletCommand(\n      { action: \"swap\", inputToken, outputToken, amount, slippage },\n      { chain: this.walletConfig.chain, network: this.walletConfig.network }\n    );\n  }\n}\n","import type { AgentContext, AgentResult } from \"@gicm/agent-core\";\nimport type { WalletCommand, WalletAgentConfig } from \"./types.js\";\nimport { parseAmount } from \"./parser.js\";\n\nexport class EvmWalletProvider {\n  private config: WalletAgentConfig;\n  private address: string | null = null;\n\n  constructor(config: WalletAgentConfig) {\n    this.config = config;\n  }\n\n  async initialize(): Promise<string> {\n    if (this.config.cdpApiKeyName && this.config.cdpApiKeyPrivate) {\n      console.log(\"[EvmWallet] Coinbase AgentKit mode - use CDP SDK for wallet ops\");\n    }\n    this.address = \"0x...\"; // Placeholder - actual init via CDP SDK\n    return this.address;\n  }\n\n  async executeCommand(\n    command: WalletCommand,\n    context: AgentContext\n  ): Promise<AgentResult> {\n    switch (command.action) {\n      case \"balance\":\n        return this.getBalance(command.address);\n      case \"transfer\":\n        return this.transfer(command.to, command.amount, command.token);\n      case \"swap\":\n        return this.swap(\n          command.inputToken,\n          command.outputToken,\n          command.amount,\n          command.slippage\n        );\n      case \"deploy_token\":\n        return this.deployToken(\n          command.name,\n          command.symbol,\n          command.decimals,\n          command.initialSupply\n        );\n      default:\n        return {\n          agent: \"wallet-agent\",\n          success: false,\n          error: `Unsupported action: ${(command as WalletCommand).action}`,\n          timestamp: Date.now(),\n        };\n    }\n  }\n\n  private async getBalance(address?: string): Promise<AgentResult> {\n    const targetAddress = address || this.address;\n    if (!targetAddress) {\n      return {\n        agent: \"wallet-agent\",\n        success: false,\n        error: \"No wallet address available\",\n        timestamp: Date.now(),\n      };\n    }\n\n    const rpcUrl = this.getRpcUrl();\n    const response = await fetch(rpcUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        jsonrpc: \"2.0\",\n        method: \"eth_getBalance\",\n        params: [targetAddress, \"latest\"],\n        id: 1,\n      }),\n    });\n\n    const data = (await response.json()) as { result: string };\n    const balance = parseAmount(BigInt(data.result), 18);\n\n    return {\n      agent: \"wallet-agent\",\n      success: true,\n      data: {\n        address: targetAddress,\n        balance,\n        symbol: \"ETH\",\n        network: this.config.network,\n      },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async transfer(\n    to: string,\n    amount: string,\n    token?: string\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error:\n        \"Transfer requires Coinbase AgentKit CDP wallet. Set cdpApiKeyName and cdpApiKeyPrivate.\",\n      reasoning:\n        \"For security, direct transfers require wallet SDK integration\",\n      data: { to, amount, token },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async swap(\n    inputToken: string,\n    outputToken: string,\n    amount: string,\n    slippage: number\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error: \"Swap requires DEX integration via Coinbase AgentKit\",\n      data: { inputToken, outputToken, amount, slippage },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async deployToken(\n    name: string,\n    symbol: string,\n    decimals: number,\n    initialSupply?: string\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error: \"Token deployment requires Coinbase AgentKit\",\n      data: { name, symbol, decimals, initialSupply },\n      timestamp: Date.now(),\n    };\n  }\n\n  private getRpcUrl(): string {\n    const rpcUrls: Record<string, string> = {\n      mainnet: \"https://eth.llamarpc.com\",\n      base: \"https://mainnet.base.org\",\n      arbitrum: \"https://arb1.arbitrum.io/rpc\",\n      optimism: \"https://mainnet.optimism.io\",\n      polygon: \"https://polygon-rpc.com\",\n    };\n    return rpcUrls[this.config.network] || rpcUrls.mainnet;\n  }\n}\n","import type { AgentContext, AgentResult } from \"@gicm/agent-core\";\nimport type { WalletCommand, WalletAgentConfig } from \"./types.js\";\nimport { parseAmount } from \"./parser.js\";\n\nexport class SolanaWalletProvider {\n  private config: WalletAgentConfig;\n  private address: string | null = null;\n  private rpcUrl: string;\n\n  constructor(config: WalletAgentConfig) {\n    this.config = config;\n    this.rpcUrl = this.getRpcUrl();\n  }\n\n  async initialize(): Promise<string> {\n    if (this.config.privateKey) {\n      console.log(\"[SolanaWallet] Using provided private key\");\n    }\n    this.address = \"So1ana...\"; // Placeholder - actual init via Solana Agent Kit\n    return this.address;\n  }\n\n  async executeCommand(\n    command: WalletCommand,\n    context: AgentContext\n  ): Promise<AgentResult> {\n    switch (command.action) {\n      case \"balance\":\n        return this.getBalance(command.address);\n      case \"transfer\":\n        return this.transfer(command.to, command.amount, command.token);\n      case \"swap\":\n        return this.swap(\n          command.inputToken,\n          command.outputToken,\n          command.amount,\n          command.slippage\n        );\n      case \"deploy_token\":\n        return this.deployToken(\n          command.name,\n          command.symbol,\n          command.decimals,\n          command.initialSupply\n        );\n      default:\n        return {\n          agent: \"wallet-agent\",\n          success: false,\n          error: `Unsupported action: ${(command as WalletCommand).action}`,\n          timestamp: Date.now(),\n        };\n    }\n  }\n\n  private async getBalance(address?: string): Promise<AgentResult> {\n    const targetAddress = address || this.address;\n    if (!targetAddress) {\n      return {\n        agent: \"wallet-agent\",\n        success: false,\n        error: \"No wallet address available\",\n        timestamp: Date.now(),\n      };\n    }\n\n    const response = await fetch(this.rpcUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        jsonrpc: \"2.0\",\n        method: \"getBalance\",\n        params: [targetAddress],\n        id: 1,\n      }),\n    });\n\n    const data = (await response.json()) as { result?: { value?: number } };\n    const lamports = data.result?.value ?? 0;\n    const balance = parseAmount(BigInt(lamports), 9);\n\n    return {\n      agent: \"wallet-agent\",\n      success: true,\n      data: {\n        address: targetAddress,\n        balance,\n        symbol: \"SOL\",\n        network: this.config.network,\n      },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async transfer(\n    to: string,\n    amount: string,\n    token?: string\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error: \"Transfer requires Solana Agent Kit. Configure privateKey.\",\n      reasoning: \"For security, direct transfers require wallet SDK integration\",\n      data: { to, amount, token },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async swap(\n    inputToken: string,\n    outputToken: string,\n    amount: string,\n    slippage: number\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error: \"Jupiter swap requires Solana Agent Kit integration\",\n      data: {\n        inputToken,\n        outputToken,\n        amount,\n        slippage,\n        dex: \"Jupiter\",\n      },\n      timestamp: Date.now(),\n    };\n  }\n\n  private async deployToken(\n    name: string,\n    symbol: string,\n    decimals: number,\n    initialSupply?: string\n  ): Promise<AgentResult> {\n    return {\n      agent: \"wallet-agent\",\n      success: false,\n      error: \"SPL Token deployment requires Solana Agent Kit\",\n      data: { name, symbol, decimals, initialSupply },\n      timestamp: Date.now(),\n    };\n  }\n\n  private getRpcUrl(): string {\n    const rpcUrls: Record<string, string> = {\n      \"mainnet-beta\": \"https://api.mainnet-beta.solana.com\",\n      devnet: \"https://api.devnet.solana.com\",\n      testnet: \"https://api.testnet.solana.com\",\n    };\n    return rpcUrls[this.config.network] || rpcUrls[\"mainnet-beta\"];\n  }\n}\n"],"mappings":"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","names":[]}
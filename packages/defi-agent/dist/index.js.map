{"version":3,"sources":["../src/types.ts","../src/providers/birdeye.ts","../src/providers/dexscreener.ts","../src/defi-agent.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const TokenDataSchema = z.object({\n  address: z.string(),\n  symbol: z.string(),\n  name: z.string(),\n  decimals: z.number(),\n  price: z.number(),\n  priceChange24h: z.number(),\n  volume24h: z.number(),\n  marketCap: z.number().optional(),\n  liquidity: z.number(),\n  holders: z.number().optional(),\n  fdv: z.number().optional(),\n});\nexport type TokenData = z.infer<typeof TokenDataSchema>;\n\nexport const PoolDataSchema = z.object({\n  address: z.string(),\n  name: z.string(),\n  dex: z.string(),\n  token0: TokenDataSchema,\n  token1: TokenDataSchema,\n  tvl: z.number(),\n  volume24h: z.number(),\n  apy: z.number().optional(),\n  fee: z.number(),\n});\nexport type PoolData = z.infer<typeof PoolDataSchema>;\n\nexport const TradeSchema = z.object({\n  hash: z.string(),\n  timestamp: z.number(),\n  type: z.enum([\"buy\", \"sell\"]),\n  tokenIn: z.string(),\n  tokenOut: z.string(),\n  amountIn: z.string(),\n  amountOut: z.string(),\n  priceUsd: z.number(),\n  trader: z.string(),\n  dex: z.string(),\n});\nexport type Trade = z.infer<typeof TradeSchema>;\n\nexport const WhaleAlertSchema = z.object({\n  wallet: z.string(),\n  action: z.enum([\"buy\", \"sell\", \"transfer\"]),\n  token: z.string(),\n  amount: z.string(),\n  usdValue: z.number(),\n  timestamp: z.number(),\n});\nexport type WhaleAlert = z.infer<typeof WhaleAlertSchema>;\n\nexport interface DeFiAnalysis {\n  token: TokenData;\n  pools: PoolData[];\n  recentTrades: Trade[];\n  whaleActivity: WhaleAlert[];\n  signals: {\n    sentiment: \"bullish\" | \"bearish\" | \"neutral\";\n    momentum: number;\n    volumeTrend: \"increasing\" | \"decreasing\" | \"stable\";\n    liquidityHealth: \"good\" | \"warning\" | \"critical\";\n  };\n  riskScore: number;\n  recommendation: string;\n}\n\nexport interface DefiAgentConfig {\n  birdeyeApiKey?: string;\n  chain?: \"solana\" | \"evm\";\n}\n","import type { TokenData, PoolData, Trade } from \"../types.js\";\n\nconst BIRDEYE_BASE = \"https://public-api.birdeye.so\";\n\nexport class BirdeyeProvider {\n  private apiKey: string;\n\n  constructor(apiKey: string) {\n    this.apiKey = apiKey;\n  }\n\n  private async fetch<T>(endpoint: string, params?: Record<string, string>): Promise<T> {\n    const url = new URL(`${BIRDEYE_BASE}${endpoint}`);\n    if (params) {\n      Object.entries(params).forEach(([k, v]) => url.searchParams.set(k, v));\n    }\n\n    const response = await fetch(url.toString(), {\n      headers: {\n        \"X-API-KEY\": this.apiKey,\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`Birdeye API error: ${response.statusText}`);\n    }\n\n    const data = (await response.json()) as { data: T };\n    return data.data;\n  }\n\n  async getTokenPrice(address: string): Promise<TokenData | null> {\n    try {\n      const data = await this.fetch<{\n        value: number;\n        updateUnixTime: number;\n        updateHumanTime: string;\n        priceChange24h: number;\n      }>(\"/defi/price\", { address });\n\n      const overview = await this.fetch<{\n        symbol: string;\n        name: string;\n        decimals: number;\n        liquidity: number;\n        v24hUSD: number;\n        mc: number;\n        holder: number;\n      }>(\"/defi/token_overview\", { address });\n\n      return {\n        address,\n        symbol: overview.symbol,\n        name: overview.name,\n        decimals: overview.decimals,\n        price: data.value,\n        priceChange24h: data.priceChange24h,\n        volume24h: overview.v24hUSD,\n        marketCap: overview.mc,\n        liquidity: overview.liquidity,\n        holders: overview.holder,\n      };\n    } catch (error) {\n      console.error(\"[Birdeye] getTokenPrice failed:\", error);\n      return null;\n    }\n  }\n\n  async getTokenTrades(\n    address: string,\n    limit = 50\n  ): Promise<Trade[]> {\n    try {\n      const data = await this.fetch<\n        Array<{\n          txHash: string;\n          blockUnixTime: number;\n          side: string;\n          tokenAddress: string;\n          tokenAmount: string;\n          vsTokenAddress: string;\n          vsTokenAmount: string;\n          owner: string;\n          source: string;\n        }>\n      >(\"/defi/txs/token\", {\n        address,\n        limit: limit.toString(),\n        tx_type: \"swap\",\n      });\n\n      return data.map((tx) => ({\n        hash: tx.txHash,\n        timestamp: tx.blockUnixTime * 1000,\n        type: tx.side === \"buy\" ? \"buy\" : \"sell\",\n        tokenIn: tx.side === \"buy\" ? tx.vsTokenAddress : tx.tokenAddress,\n        tokenOut: tx.side === \"buy\" ? tx.tokenAddress : tx.vsTokenAddress,\n        amountIn: tx.side === \"buy\" ? tx.vsTokenAmount : tx.tokenAmount,\n        amountOut: tx.side === \"buy\" ? tx.tokenAmount : tx.vsTokenAmount,\n        priceUsd: 0,\n        trader: tx.owner,\n        dex: tx.source,\n      }));\n    } catch (error) {\n      console.error(\"[Birdeye] getTokenTrades failed:\", error);\n      return [];\n    }\n  }\n\n  async getTokenPools(address: string): Promise<PoolData[]> {\n    try {\n      const data = await this.fetch<\n        Array<{\n          address: string;\n          name: string;\n          source: string;\n          tvl: number;\n          volume24h: number;\n          fee: number;\n          apy: number;\n        }>\n      >(\"/defi/pool_list\", { address });\n\n      return data.map((pool) => ({\n        address: pool.address,\n        name: pool.name,\n        dex: pool.source,\n        token0: {} as TokenData,\n        token1: {} as TokenData,\n        tvl: pool.tvl,\n        volume24h: pool.volume24h,\n        apy: pool.apy,\n        fee: pool.fee,\n      }));\n    } catch (error) {\n      console.error(\"[Birdeye] getTokenPools failed:\", error);\n      return [];\n    }\n  }\n\n  async getWalletPortfolio(wallet: string): Promise<TokenData[]> {\n    try {\n      const data = await this.fetch<{\n        items: Array<{\n          address: string;\n          symbol: string;\n          name: string;\n          decimals: number;\n          balance: string;\n          uiAmount: number;\n          priceUsd: number;\n          valueUsd: number;\n        }>;\n      }>(\"/v1/wallet/token_list\", { wallet });\n\n      return data.items.map((item) => ({\n        address: item.address,\n        symbol: item.symbol,\n        name: item.name,\n        decimals: item.decimals,\n        price: item.priceUsd,\n        priceChange24h: 0,\n        volume24h: 0,\n        liquidity: 0,\n      }));\n    } catch (error) {\n      console.error(\"[Birdeye] getWalletPortfolio failed:\", error);\n      return [];\n    }\n  }\n}\n","import type { TokenData, PoolData, Trade } from \"../types.js\";\n\ninterface DexScreenerPair {\n  chainId: string;\n  pairAddress: string;\n  dexId: string;\n  baseToken: { address: string; symbol: string; name: string };\n  quoteToken: { address: string; symbol: string; name: string };\n  liquidity: { usd: number };\n  volume: { h24: number };\n  priceUsd: string;\n  priceChange: { h24: number };\n  fdv: number;\n}\n\ninterface DexScreenerPairsResponse {\n  pairs?: DexScreenerPair[];\n}\n\ninterface BoostedToken {\n  chainId: string;\n  tokenAddress: string;\n  description: string;\n  amount: number;\n}\n\nconst DEXSCREENER_BASE = \"https://api.dexscreener.com\";\n\nexport class DexScreenerProvider {\n  async getTokenPairs(\n    address: string,\n    chain = \"solana\"\n  ): Promise<PoolData[]> {\n    try {\n      const response = await fetch(\n        `${DEXSCREENER_BASE}/latest/dex/tokens/${address}`\n      );\n      const data = (await response.json()) as DexScreenerPairsResponse;\n\n      if (!data.pairs) return [];\n\n      return data.pairs\n        .filter((pair) => pair.chainId === chain)\n        .map((pair) => ({\n            address: pair.pairAddress,\n            name: `${pair.baseToken.symbol}/${pair.quoteToken.symbol}`,\n            dex: pair.dexId,\n            token0: {\n              address: pair.baseToken.address,\n              symbol: pair.baseToken.symbol,\n              name: pair.baseToken.name,\n              decimals: 9,\n              price: parseFloat(pair.priceUsd),\n              priceChange24h: pair.priceChange?.h24 || 0,\n              volume24h: pair.volume?.h24 || 0,\n              liquidity: pair.liquidity?.usd || 0,\n              fdv: pair.fdv,\n            },\n            token1: {\n              address: pair.quoteToken.address,\n              symbol: pair.quoteToken.symbol,\n              name: pair.quoteToken.name,\n              decimals: 9,\n              price: 0,\n              priceChange24h: 0,\n              volume24h: 0,\n              liquidity: 0,\n            },\n            tvl: pair.liquidity?.usd || 0,\n            volume24h: pair.volume?.h24 || 0,\n            fee: 0.3,\n          })\n        );\n    } catch (error) {\n      console.error(\"[DexScreener] getTokenPairs failed:\", error);\n      return [];\n    }\n  }\n\n  async searchTokens(query: string): Promise<TokenData[]> {\n    try {\n      const response = await fetch(\n        `${DEXSCREENER_BASE}/latest/dex/search?q=${encodeURIComponent(query)}`\n      );\n      const data = (await response.json()) as DexScreenerPairsResponse;\n\n      if (!data.pairs) return [];\n\n      const seen = new Set<string>();\n      return data.pairs\n        .filter((pair) => {\n          if (seen.has(pair.baseToken.address)) return false;\n          seen.add(pair.baseToken.address);\n          return true;\n        })\n        .slice(0, 10)\n        .map((pair) => ({\n            address: pair.baseToken.address,\n            symbol: pair.baseToken.symbol,\n            name: pair.baseToken.name,\n            decimals: 9,\n            price: parseFloat(pair.priceUsd),\n            priceChange24h: pair.priceChange?.h24 || 0,\n            volume24h: pair.volume?.h24 || 0,\n            liquidity: pair.liquidity?.usd || 0,\n            fdv: pair.fdv,\n          })\n        );\n    } catch (error) {\n      console.error(\"[DexScreener] searchTokens failed:\", error);\n      return [];\n    }\n  }\n\n  async getTrendingTokens(chain = \"solana\"): Promise<TokenData[]> {\n    try {\n      const response = await fetch(\n        `${DEXSCREENER_BASE}/token-boosts/top/v1`\n      );\n      const data = (await response.json()) as BoostedToken[];\n\n      return (data || [])\n        .filter((token) => token.chainId === chain)\n        .slice(0, 20)\n        .map((token) => ({\n            address: token.tokenAddress,\n            symbol: token.description?.slice(0, 10) || \"???\",\n            name: token.description || \"Unknown\",\n            decimals: 9,\n            price: 0,\n            priceChange24h: 0,\n            volume24h: 0,\n            liquidity: 0,\n            boostAmount: token.amount,\n          })\n        );\n    } catch (error) {\n      console.error(\"[DexScreener] getTrendingTokens failed:\", error);\n      return [];\n    }\n  }\n}\n","import {\n  BaseAgent,\n  type AgentConfig,\n  type AgentContext,\n  type AgentResult,\n} from \"@gicm/agent-core\";\nimport { BirdeyeProvider } from \"./providers/birdeye.js\";\nimport { DexScreenerProvider } from \"./providers/dexscreener.js\";\nimport type { DefiAgentConfig, DeFiAnalysis, TokenData } from \"./types.js\";\n\nexport class DefiAgent extends BaseAgent {\n  private defiConfig: DefiAgentConfig;\n  private birdeye: BirdeyeProvider | null = null;\n  private dexscreener: DexScreenerProvider;\n\n  constructor(config: AgentConfig, defiConfig: DefiAgentConfig = {}) {\n    super(\"defi-agent\", config);\n    this.defiConfig = defiConfig;\n\n    if (defiConfig.birdeyeApiKey) {\n      this.birdeye = new BirdeyeProvider(defiConfig.birdeyeApiKey);\n    }\n    this.dexscreener = new DexScreenerProvider();\n  }\n\n  getSystemPrompt(): string {\n    return `You are a DeFi Analytics Agent specializing in on-chain data analysis.\n\nCAPABILITIES:\n- Token price and market data analysis\n- Liquidity pool monitoring\n- Whale activity tracking\n- Trading signal generation\n- Risk assessment\n\nDATA SOURCES:\n- Birdeye (Solana primary)\n- DexScreener (multi-chain)\n\nANALYSIS FRAMEWORK:\n1. Price & Volume Analysis\n2. Liquidity Health Check\n3. Whale Activity Detection\n4. Sentiment Indicators\n5. Risk Score Calculation\n\nAlways provide:\n- Clear buy/sell/hold recommendation\n- Risk score (1-10)\n- Key supporting data points\n- Potential red flags`;\n  }\n\n  async analyze(context: AgentContext): Promise<AgentResult> {\n    const tokenAddress = context.metadata?.tokenAddress as string;\n    if (!tokenAddress) {\n      return this.createResult(false, null, \"No token address provided\");\n    }\n\n    const chain = this.defiConfig.chain || \"solana\";\n    const analysis = await this.analyzeToken(tokenAddress, chain);\n\n    return this.createResult(\n      true,\n      analysis,\n      undefined,\n      analysis.riskScore / 10,\n      analysis.recommendation\n    );\n  }\n\n  async analyzeToken(\n    address: string,\n    chain: \"solana\" | \"evm\" = \"solana\"\n  ): Promise<DeFiAnalysis> {\n    let tokenData: TokenData | null = null;\n\n    if (this.birdeye && chain === \"solana\") {\n      tokenData = await this.birdeye.getTokenPrice(address);\n    }\n\n    const pools = await this.dexscreener.getTokenPairs(address, chain);\n\n    if (!tokenData && pools.length > 0) {\n      tokenData = pools[0].token0;\n    }\n\n    if (!tokenData) {\n      throw new Error(`Token not found: ${address}`);\n    }\n\n    const trades = this.birdeye\n      ? await this.birdeye.getTokenTrades(address, 100)\n      : [];\n\n    const signals = this.calculateSignals(tokenData, trades);\n    const riskScore = this.calculateRiskScore(tokenData, pools, signals);\n    const recommendation = this.generateRecommendation(signals, riskScore);\n\n    return {\n      token: tokenData,\n      pools,\n      recentTrades: trades.slice(0, 20),\n      whaleActivity: [],\n      signals,\n      riskScore,\n      recommendation,\n    };\n  }\n\n  private calculateSignals(\n    token: TokenData,\n    trades: Array<{ type: string }>\n  ): DeFiAnalysis[\"signals\"] {\n    const buyCount = trades.filter((t) => t.type === \"buy\").length;\n    const sellCount = trades.filter((t) => t.type === \"sell\").length;\n    const buyRatio = trades.length > 0 ? buyCount / trades.length : 0.5;\n\n    let sentiment: \"bullish\" | \"bearish\" | \"neutral\" = \"neutral\";\n    if (buyRatio > 0.6) sentiment = \"bullish\";\n    else if (buyRatio < 0.4) sentiment = \"bearish\";\n\n    const momentum = (buyRatio - 0.5) * 2;\n\n    let volumeTrend: \"increasing\" | \"decreasing\" | \"stable\" = \"stable\";\n    if (token.priceChange24h > 5) volumeTrend = \"increasing\";\n    else if (token.priceChange24h < -5) volumeTrend = \"decreasing\";\n\n    let liquidityHealth: \"good\" | \"warning\" | \"critical\" = \"good\";\n    if (token.liquidity < 10000) liquidityHealth = \"critical\";\n    else if (token.liquidity < 50000) liquidityHealth = \"warning\";\n\n    return { sentiment, momentum, volumeTrend, liquidityHealth };\n  }\n\n  private calculateRiskScore(\n    token: TokenData,\n    pools: Array<{ tvl: number }>,\n    signals: DeFiAnalysis[\"signals\"]\n  ): number {\n    let score = 5;\n\n    if (token.liquidity < 10000) score += 3;\n    else if (token.liquidity < 50000) score += 2;\n    else if (token.liquidity > 500000) score -= 1;\n\n    if (Math.abs(token.priceChange24h) > 30) score += 2;\n    else if (Math.abs(token.priceChange24h) > 15) score += 1;\n\n    if (signals.liquidityHealth === \"critical\") score += 2;\n    else if (signals.liquidityHealth === \"warning\") score += 1;\n\n    if (pools.length === 0) score += 2;\n    else if (pools.length === 1) score += 1;\n\n    return Math.min(10, Math.max(1, score));\n  }\n\n  private generateRecommendation(\n    signals: DeFiAnalysis[\"signals\"],\n    riskScore: number\n  ): string {\n    if (riskScore >= 8) {\n      return \"HIGH RISK - Avoid trading. Low liquidity and high volatility detected.\";\n    }\n\n    if (riskScore >= 6) {\n      return `CAUTION - ${signals.sentiment} sentiment with elevated risk. Small position only if trading.`;\n    }\n\n    if (signals.sentiment === \"bullish\" && signals.liquidityHealth === \"good\") {\n      return \"FAVORABLE - Bullish signals with healthy liquidity. Consider entry with proper risk management.\";\n    }\n\n    if (signals.sentiment === \"bearish\") {\n      return \"WAIT - Bearish pressure detected. Wait for reversal confirmation.\";\n    }\n\n    return \"NEUTRAL - Mixed signals. Monitor for clearer direction before trading.\";\n  }\n\n  async searchToken(query: string): Promise<TokenData[]> {\n    return this.dexscreener.searchTokens(query);\n  }\n\n  async getTrending(): Promise<TokenData[]> {\n    return this.dexscreener.getTrendingTokens(this.defiConfig.chain || \"solana\");\n  }\n}\n"],"mappings":"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","names":[]}